<html>
<body>
<script src="kdTree-min.js"></script>
<script>

  /* 2D 

  var points = [
    {x: 1, y: 2},
    {x: 3, y: 4},
    {x: 5, y: 6},
    {x: 7, y: 8}
  ];

  var distance = function(a, b){
    return Math.pow(a.x - b.x, 2) +  Math.pow(a.y - b.y, 2);
  }

  var tree = new kdTree(points, distance, ["x", "y"]);
  var nearest = tree.nearest({ x: 5, y: 5 }, 2);
  var str = JSON.stringify(nearest);
  console.log(str + " " + tree.balanceFactor());
  */

  var points = [
    {x: 1, y: 2, z: 1},
    {x: 3, y: 4, z: 5},
    {x: 5, y: 6, z: 2},
    {x: 7, y: 8, z: 3}
  ];

  var distance = function(a, b){
    return Math.pow(a.x - b.x, 2) +  Math.pow(a.y - b.y, 2) +  Math.pow(a.z - b.z, 2);
  }

  var tree = new kdTree(points, distance, ["x", "y", "z"]);
  var nearest = tree.nearest({ x: 5, y: 5, z: 1 }, 2);
  var str = JSON.stringify(nearest);
  console.log(str + " " + tree.balanceFactor());

</script>
</body>
</html>
